<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Biker.vn - For Biker Lover</title>

	<!-- CSS -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.css}">
	<link rel="stylesheet" th:href="@{/css/main.css}">
	<link rel="stylesheet" th:href="@{/css/commerce.css}">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/linearicons@1.0.1/dist/web-font/style.min.css">
	<link rel="stylesheet" th:href="@{/css/nouislider.min.css}">
	<link rel="stylesheet" th:href="@{/css/owl.carousel.css}">
	<link rel="stylesheet" th:href="@{/css/themify-icons.css}">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>
<body>
    <!-- Start Header Area -->
	<header class="header">
		<!-- Main Navigation -->
		<div class="main_nav_container">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 ">
						<div class="logo_container">
							<a th:href="@{/home}"><img src="img/logo2.jpg"></a>
						</div>
						<nav class="navbar">
							<ul class="navbar_menu">
								<li><a th:href="@{/home}">Home</a></li>
								<li><a th:href="@{/category}">Category</a></li>
								<li><a th:href="@{/blog}">What's New</a></li>
								<li><a th:href="@{/contact}">contact</a></li>
							</ul>
							<ul class="navbar_user">
								<li><a class="search"><span class="fa fa-search" id="search"></span></a></li>						
								<li class="checkout">
									<a th:href="@{/cart}">
										<i class="fa fa-shopping-cart" aria-hidden="true"></i>
										<span id="checkout_items" class="checkout_items">0</span>
									</a>
								</li>
							</ul>
							<div class="hamburger_container">
								<i class="fa fa-bars" aria-hidden="true"></i>
							</div>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</header>
	<div class="hamburger_menu">
		<div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
		<div class="hamburger_menu_content text-right">
			<ul class="menu_top_nav">
				<li class="menu_item"><a th:href="@{/home}">Home</a></li>
				<li class="menu_item"><a th:href="@{/category}">Category</a></li>
				<li class="menu_item"><a th:href="@{/blog}">What's New</a></li>
				<li class="menu_item"><a th:href="@{/contact}">contact</a></li>
			</ul>
		</div>
	</div>
	<div class="search_input" id="search_input_box">
		<div class="container">
			<form class="d-flex justify-content-between">
				<input type="text" class="form-control" id="search_input" placeholder="Search Here">
				<button type="submit" class="btn"></button>
				<span class="lnr lnr-cross" id="close_search" title="Close Search"></span>
			</form>
		</div>
	</div>
	<!-- End Header Area -->

	<!-- Start Banner Area -->
	<section class="banner-area" style="background-image: url(img/banner/banner6.jpg)">
		<div class="container">
			<div class="banner-details ">
				<div class="col-first">
					<h1><span></span>Homepage</h1>
				</div>
			</div>
		</div>
	</section>
	<!-- End Banner Area -->

	
	<!-- start features Area -->
	<section class="features-area ">
		<div class="container">
			<div class="row features-inner">
				<!-- single features -->
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="single-features">
						<div class="f-icon">
							<img th:src="@{/img/features/f-icon1.png}" alt="">
						</div>
						<h6>Free Delivery</h6>
						<p>Free Shipping on all order</p>
					</div>
				</div>
				<!-- single features -->
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="single-features">
						<div class="f-icon">
							<img th:src="@{/img/features/f-icon2.png}" alt="">
						</div>
						<h6>Return Policy</h6>
						<p>Free Shipping on all order</p>
					</div>
				</div>
				<!-- single features -->
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="single-features">
						<div class="f-icon">
							<img th:src="@{/img/features/f-icon3.png}" alt="">
						</div>
						<h6>24/7 Support</h6>
						<p>Free Shipping on all order</p>
					</div>
				</div>
				<!-- single features -->
				<div class="col-lg-3 col-md-6 col-sm-6">
					<div class="single-features">
						<div class="f-icon">
							<img th:src="@{/img/features/f-icon4.png}" alt="">
						</div>
						<h6>Secure Payment</h6>
						<p>Free Shipping on all order</p>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- end features Area -->

	<!-- Start Best Seller -->
	<section class="active-product-area section_gap">
		<div class="container">
			<div class="row">
				<!-- single product -->
				<div th:each="item : ${items}" class="col-lg-3 col-md-6">
					<div class="single-product">
						<div class="product-thumbnail">
							<a th:href="@{('/item/' + ${item.id})}">
								<img class="img-fluid" th:src="${item.primaryImageURL}" style="height: 200px !important;" alt="">
							</a>
						</div>
						<div class="product-details">
							<div class="price">
								<h3 th:text="(${item.price == -1} ? 'Liên hệ' : ${item.price} + 'đ')"></h3>
							</div>
							<div class="rating">
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
								<i class="fa fa-star-o empty"></i>
							</div>
							<h6><a th:href="@{('/item/' + ${item.id})}" th:text="${item.name}"></a></h6>
							
							<div class="prd-bottom">
								<a class="button" href="javascript:void(0);" th:onclick="|clickAddItemsToCart(${item.id}, 1)|">
									<i class="fa fa-shopping-cart"></i>  Add to Cart
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- End Best Seller -->
	

	<!-- Start related-product Area -->
	<section class="related-product-area section_gap_bottom">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-9 text-center">
					<div class="section-title">
						<h1>Best deals of the Week</h1>
						<p>These products had pay most of the week</p>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-9">
					<div class="row">
						<div th:each="item : ${itemsBestBuy}" class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a th:href="@{('/item/' + ${item.id})}"><img th:src="${item.primaryImageURL}" alt=""></a>
								<div class="desc">
									<a th:href="@{('/item/' + ${item.id})}" class="title" th:text="${#strings.abbreviate(item.name, 20)}"></a>
									<div class="price">
										<h6 th:text="(${item.price == -1} ? 'Liên hệ' : ${item.price} + 'đ')"></h6>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-3">
					<div class="ctg-right">
							<img class="img-fluid d-block mx-auto" src="img/best_deal.jpg" alt="">
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- End related-product Area -->
	
	<!-- Start footer Area -->
	<footer class="footer-area section_gap">
		<div class="container">
			<div class="row">
				<div class="col-lg-6  col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h4>Contact Us</h4>
						<p>
							<p> Make by Star Catchers with love <br></p>
							<p>Address :158A Le Loi <br></p>
							<p>Phone : 0123456789 <br></p>
							<p>Email :Biker@gmail.com</p>
						</p>
					</div>
				</div>
				<div class="col-lg-4  col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h4>Newsletter</h4>
						<p>Stay update with our latest</p>
						<div class="" id="mc_embed_signup">

							<form target="_blank" novalidate="true" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
							 method="get" class="form-inline">

								<div class="d-flex flex-row">

									<input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Email '"
									 required="" type="email">


									<button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>
									<div style="position: absolute; left: -5000px;">
										<input tabindex="-1" value="" type="text">
									</div>
								</div>
								<div class="info"></div>
							</form>
						</div>
					</div>
				</div>
				<div class="col-lg-2 col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h4>Follow Us</h4>
						<p>Let us be social</p>
						<div class="footer-social d-flex align-items-center">
							<a href="#"><i class="fa fa-facebook"></i></a>
							<a href="#"><i class="fa fa-twitter"></i></a>
							<a href="#"><i class="fa fa-instagram"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<!-- End footer Area -->

	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<script th:src="@{/js/main.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/jquery-2.2.4.min.js}"></script>
	<script th:src="@{/js/scroll.js}"></script>

	<script>
		$(document).ready(() => {
			updateItemsCount();
		});

		function clickAddItemsToCart(itemId, quantityParam) {
			let quantity = quantityParam;

			if (quantityParam === undefined | quantityParam === null) {
				quantity = $('#quantity').val();
			}

			let items = JSON.parse(window.localStorage.getItem('items'));

			if (items === undefined | items === null) {
				items = [];
			}

			let itemSelected = items.find(item => {
				return item.id == itemId;
			});

			console.log(itemSelected);

			if (itemSelected === undefined | itemSelected === null) {
				const item = {
					'id': itemId,
					'quantity': Number(quantity)
				};

				items.push(item);
			} else {
				itemSelected.quantity = Number(itemSelected.quantity) + Number(quantity);
			}

			window.localStorage.setItem('items', JSON.stringify(items));

			updateItemsCount();

		}

		function updateItemsCount() {
			let items = JSON.parse(window.localStorage.getItem('items'));

			console.log(items);

			if (items === undefined | items === null) {
				items = [];
			}

			console.log(items);

			console.log(items.length);

			$('#checkout_items').text(items.length);
		}
	</script>
</body>
</html>




